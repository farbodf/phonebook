{"version":3,"sources":["components/Persons.js","components/PersonForm.js","components/Filter.js","components/Message.js","services/phonebookServices.js","components/App.js","index.js"],"names":["Persons","_ref","persons","filterTerm","handleClick","personsToRender","filter","person","name","toLowerCase","indexOf","react_default","a","createElement","map","key","number","onClick","id","PersonForm","props","onSubmit","addRecord","value","newName","onChange","handleNameChange","newNumber","handleNumberChange","type","Filter","params","filterContent","Message","message","className","style","color","text","baseUrl","phonebookServices","axios","get","then","response","data","post","delete","concat","put","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setFilterTerm","_useState9","_useState10","setMessage","useEffect","services","components_Message","components_Filter","event","target","components_PersonForm","preventDefault","matchedPerson","find","p","window","alert","confirm","objectSpread","updatedPerson","setTimeout","catch","error","newPerson","components_Persons","r","status","ReactDOM","render","components_App","document","getElementById"],"mappings":"6MAgBeA,EAdC,SAAAC,GAA0C,IAAvCC,EAAuCD,EAAvCC,QAASC,EAA8BF,EAA9BE,WAAYC,EAAkBH,EAAlBG,YAChCC,EAAkBH,EAItB,MAHmB,KAAfC,IACAE,EAAkBH,EAAQI,OAAO,SAAAC,GAAM,OAAuD,IAAnDA,EAAOC,KAAKC,cAAcC,QAAQP,MAG7EQ,EAAAC,EAAAC,cAAA,WACKR,EAAgBS,IAAI,SAACP,GAAD,OACrBI,EAAAC,EAAAC,cAAA,OAAKE,IAAKR,EAAOC,MAAOD,EAAOC,KAA/B,IAAsCD,EAAOS,OAC7CL,EAAAC,EAAAC,cAAA,UAAQI,QAAS,kBAAMb,EAAYG,EAAOW,MAA1C,eCFGC,EAPI,SAACC,GAAD,OACfT,EAAAC,EAAAC,cAAA,QAAMQ,SAAUD,EAAME,WAClBX,EAAAC,EAAAC,cAAA,oBAAWF,EAAAC,EAAAC,cAAA,SAAOU,MAAOH,EAAMI,QAASC,SAAUL,EAAMM,oBACxDf,EAAAC,EAAAC,cAAA,sBAAaF,EAAAC,EAAAC,cAAA,SAAOU,MAAOH,EAAMO,UAAWF,SAAUL,EAAMQ,sBAC5DjB,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAAA,UAAQgB,KAAK,UAAb,UCCEC,EALA,SAACC,GAAD,OACXpB,EAAAC,EAAAC,cAAA,gCACsBF,EAAAC,EAAAC,cAAA,SAAOY,SAAUM,EAAOC,kBCgBnCC,EAlBC,SAAAhC,GAAiB,IAAdiC,EAAcjC,EAAdiC,QACf,MAAqB,YAAjBA,EAAQL,KAEJlB,EAAAC,EAAAC,cAAA,OAAKsB,UAAU,eAAeC,MAAO,CAACC,MAAO,UACxCH,EAAQI,MAGO,UAAjBJ,EAAQL,KAEXlB,EAAAC,EAAAC,cAAA,OAAKsB,UAAU,eAAeC,MAAO,CAACC,MAAO,QACxCH,EAAQI,MAId,sBCfLC,EAAU,eAsBDC,EApBA,WAEX,OADgBC,IAAMC,IAAIH,GACXI,KAAK,SAAAC,GAAQ,OAAIA,EAASC,QAkB9BL,EAfA,SAACK,GAEZ,OADgBJ,IAAMK,KAAKP,EAASM,GACrBF,KAAK,SAAAC,GAAQ,OAAIA,EAASC,QAa9BL,EAVK,SAACtB,GAEjB,OADgBuB,IAAMM,OAAN,GAAAC,OAAgBT,EAAhB,KAAAS,OAA2B9B,IAC5ByB,KAAK,SAAAC,GAAQ,OAAIA,KAQrBJ,EALA,SAACK,GAEZ,OADgBJ,IAAMQ,IAAN,GAAAD,OAAaT,EAAb,KAAAS,OAAwBH,EAAK3B,IAAM2B,GACpCF,KAAK,SAAAC,GAAQ,OAAIA,EAASC,QCgE9BK,EA7EH,WAAM,IAAAC,EACiBC,mBAAS,IAD1BC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GACNjD,EADMmD,EAAA,GACGG,EADHH,EAAA,GAAAI,EAEkBL,mBAAS,IAF3BM,EAAAJ,OAAAC,EAAA,EAAAD,CAAAG,EAAA,GAENjC,EAFMkC,EAAA,GAEGC,EAFHD,EAAA,GAAAE,EAGqBR,mBAAS,IAH9BS,EAAAP,OAAAC,EAAA,EAAAD,CAAAM,EAAA,GAGNjC,EAHMkC,EAAA,GAGKC,EAHLD,EAAA,GAAAE,EAIuBX,mBAAS,IAJhCY,EAAAV,OAAAC,EAAA,EAAAD,CAAAS,EAAA,GAIN5D,EAJM6D,EAAA,GAIMC,EAJND,EAAA,GAAAE,EAKiBd,mBAAS,CAACd,KAAM,KAAMT,KAAM,OAL7CsC,EAAAb,OAAAC,EAAA,EAAAD,CAAAY,EAAA,GAKNhC,EALMiC,EAAA,GAKGC,EALHD,EAAA,GAOdE,oBAAU,WACNC,IAAkB3B,KAAK,SAAAE,GAAI,OAAIW,EAAWX,MAC3C,IAqDH,OACIlC,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAAA,uBACAF,EAAAC,EAAAC,cAAC0D,EAAD,CAASrC,QAASA,IAClBvB,EAAAC,EAAAC,cAAC2D,EAAD,CAAQxC,cAXM,SAACyC,GACnBR,EAAcQ,EAAMC,OAAOnD,UAWvBZ,EAAAC,EAAAC,cAAA,6BACAF,EAAAC,EAAAC,cAAC8D,EAAD,CAAYnD,QAASA,EAASG,UAAWA,EAC7BD,iBAVK,SAAC+C,GAAD,OAAWd,EAAWc,EAAMC,OAAOnD,QAUJK,mBAT7B,SAAC6C,GAAD,OAAWX,EAAaW,EAAMC,OAAOnD,QAU5CD,UA3DF,SAACmD,GAGf,GAFAA,EAAMG,kBAEwC,IADhC1E,EAAQY,IAAI,SAAAP,GAAM,OAAIA,EAAOC,KAAKC,gBACtCC,QAAQc,EAAQf,eAAuB,CAC7C,IAAMoE,EAAgB3E,EAAQ4E,KAAK,SAAAC,GAAC,OAAIA,EAAEvE,OAASgB,IAC/CqD,EAAc7D,SAAWW,EACzBqD,OAAOC,MAAP,GAAAjC,OAAgBxB,EAAhB,mCACOwD,OAAOE,QAAP,GAAAlC,OAAkB6B,EAAcrE,KAAhC,4EACP8D,EAAAhB,OAAA6B,EAAA,EAAA7B,CAAA,GAAoBuB,EAApB,CAAmC7D,OAAQW,KAAYgB,KAAK,SAAAyC,GAEpD5B,EAAWtD,EAAQY,IAAI,SAAAiE,GAAC,OAAIA,EAAE7D,KAAOkE,EAAclE,GAAKkE,EAAgBL,KACxEX,EAAW,CAAC9B,KAAI,WAAAU,OAAaoC,EAAc5E,KAA3B,aAA4CqB,KAAM,YAClEwD,WAAW,kBAAMjB,EAAW,CAAC9B,KAAM,KAAMT,KAAM,QAAQ,OACxDyD,MAAM,SAAAC,GACLnB,EAAW,CAAC9B,KAAI,kBAAAU,OAAoBxB,EAApB,yCAAoEK,KAAM,UAC1FwD,WAAW,kBAAMjB,EAAW,CAAC9B,KAAM,KAAMT,KAAM,QAAQ,YAKnEyC,EACI,CAAE9D,KAAMgB,EAASR,OAAQW,IAC3BgB,KAAK,SAAA6C,GACHhC,EAAWtD,EAAQ8C,OAAOwC,IAC1BpB,EAAW,CAAC9B,KAAI,SAAAU,OAAWwC,EAAUhF,KAArB,qBAA8CqB,KAAM,YACpEwD,WAAW,kBAAMjB,EAAW,CAAC9B,KAAM,KAAMT,KAAM,QAAQ,UAmC3DlB,EAAAC,EAAAC,cAAA,qBACAF,EAAAC,EAAAC,cAAC4E,EAAD,CAASvF,QAASA,EAASC,WAAYA,EAAYC,YA/BvC,SAACc,GACb8D,OAAOE,QAAP,UAAAlC,OAAyB9C,EAAQ4E,KAAK,SAAAC,GAAC,OAAIA,EAAE7D,KAAOA,IAAIV,KAAxD,OACA8D,EAAqBpD,GAAIyB,KAAK,SAAA+C,GACT,MAAbA,EAAEC,QACFnC,EAAWtD,EAAQI,OAAO,SAAAyE,GAAC,OAAIA,EAAE7D,KAAOA,KACxCkD,EAAW,CAAC9B,KAAI,6BAAgCT,KAAM,aAEtDuC,EAAW,CAAC9B,KAAI,wCAAAU,OAA0C9B,GAAMW,KAAM,UAE1EwD,WAAW,kBAAMjB,EAAW,CAAC9B,KAAM,KAAMT,KAAM,QAAQ,kBCpDvE+D,IAASC,OACLlF,EAAAC,EAAAC,cAACiF,EAAD,MACAC,SAASC,eAAe","file":"static/js/main.3bfcd29a.chunk.js","sourcesContent":["import React from 'react'\n\nconst Persons = ({ persons, filterTerm, handleClick }) => {\n    let personsToRender = persons\n    if (filterTerm !== '') {\n        personsToRender = persons.filter(person => person.name.toLowerCase().indexOf(filterTerm) !== -1)\n    }\n    return (\n        <div>\n            {personsToRender.map((person) => \n            <div key={person.name}>{person.name} {person.number}\n            <button onClick={() => handleClick(person.id)}>delete</button></div>)}\n        </div>\n    )\n}\n\nexport default Persons\n","import React from 'react'\n\nconst PersonForm = (props) =>\n    <form onSubmit={props.addRecord}>\n        <div>name: <input value={props.newName} onChange={props.handleNameChange} /></div>\n        <div>number: <input value={props.newNumber} onChange={props.handleNumberChange} /></div>\n        <div><button type=\"submit\">add</button></div>\n    </form>\n\nexport default PersonForm\n","import React from 'react'\n\nconst Filter = (params) =>\n    <div>\n        filter shown with <input onChange={params.filterContent} />\n    </div>\n\nexport default Filter","import React from 'react'\n\nconst Message = ({ message }) => {\n    if (message.type === 'success') {\n        return (\n            <div className=\"notification\" style={{color: 'green'}}>\n                {message.text}\n            </div>\n        )\n    } else if (message.type === 'error') {\n        return (\n            <div className=\"notification\" style={{color: 'red'}}>\n                {message.text}\n            </div>\n        )\n    }\n    return null\n    \n}\n\nexport default Message","import axios from 'axios'\nconst baseUrl = \"/api/persons\"\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = (data) => {\n    const request = axios.post(baseUrl, data)\n    return request.then(response => response.data)\n}\n\nconst deleteEntry = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response)\n}\n\nconst update = (data) => {\n    const request = axios.put(`${baseUrl}/${data.id}`, data)\n    return request.then(response => response.data)\n}\n\nexport default { getAll, create, deleteEntry, update }\n","import React, { useState, useEffect } from 'react'\nimport Persons from './Persons'\nimport PersonForm from './PersonForm'\nimport Filter from './Filter'\nimport Message from './Message'\nimport services from '../services/phonebookServices'\n\nconst App = () => {\n    const [ persons, setPersons] = useState([])\n    const [ newName, setNewName ] = useState('')\n    const [ newNumber, setNewNumber] = useState('')\n    const [ filterTerm, setFilterTerm] = useState('')\n    const [ message, setMessage] = useState({text: null, type: null})\n\n    useEffect(() => {\n        services.getAll().then(data => setPersons(data))\n    }, [])\n\n    const addRecord = (event) => {\n        event.preventDefault()\n        const names = persons.map(person => person.name.toLowerCase())\n        if (names.indexOf(newName.toLowerCase()) !== -1) {\n            const matchedPerson = persons.find(p => p.name === newName)\n            if (matchedPerson.number === newNumber) {\n                window.alert(`${newName} is already added to phonebook`)\n            } else if (window.confirm(`${matchedPerson.name} is already added to phonebook, replace the old number with a new one?`)) {\n                services.update({...matchedPerson, number: newNumber}).then(updatedPerson => \n                    {\n                        setPersons(persons.map(p => p.id === updatedPerson.id ? updatedPerson : p))\n                        setMessage({text: `Updated ${updatedPerson.name}'s number`, type: 'success'})\n                        setTimeout(() => setMessage({text: null, type: null}), 5000)\n                    }).catch(error => {\n                        setMessage({text: `Information of ${newName} has already been removed from server`, type: 'error'})\n                        setTimeout(() => setMessage({text: null, type: null}), 5000)\n                    })\n            }\n        } \n        else {\n            services.create(\n                { name: newName, number: newNumber}\n            ).then(newPerson => {\n                setPersons(persons.concat(newPerson))\n                setMessage({text: `Added ${newPerson.name} to the phonebook`, type: 'success'})\n                setTimeout(() => setMessage({text: null, type: null}), 5000)\n            })\n        }\n    }\n\n    const handleClick = (id) => {\n        if (window.confirm(`Delete ${persons.find(p => p.id === id).name}?`)) {\n            services.deleteEntry(id).then(r => {\n                if (r.status === 204) {\n                    setPersons(persons.filter(p => p.id !== id))\n                    setMessage({text: `Deleted entry successfully`, type: 'success'})\n                } else {\n                    setMessage({text: `Couldn't delete the resource with id ${id}`, type: 'error'})\n                }\n                setTimeout(() => setMessage({text: null, type: null}), 5000)\n            })\n        }\n    }\n\n    const filterContent = (event) => {\n        setFilterTerm(event.target.value)\n    }\n\n    const handleNameChange = (event) => setNewName(event.target.value)\n    const handleNumberChange = (event) => setNewNumber(event.target.value)\n\n    return (\n        <div>\n            <h2>Phonebook</h2>\n            <Message message={message} />\n            <Filter filterContent={filterContent} />\n            <h2>Add a new entry</h2>\n            <PersonForm newName={newName} newNumber={newNumber} \n                        handleNameChange={handleNameChange} handleNumberChange={handleNumberChange}\n                        addRecord={addRecord}/>\n            <h2>Numbers</h2>\n            <Persons persons={persons} filterTerm={filterTerm} handleClick={handleClick}/>\n        </div>\n    )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './components/App'\nimport './index.css'\n\nReactDOM.render(\n    <App />,\n    document.getElementById('root')\n)"],"sourceRoot":""}